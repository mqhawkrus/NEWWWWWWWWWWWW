<html>
  <head>
    <!-- Load the AJAX API -->
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      // Load the Visualization API and the corechart package.
      google.charts.load('current', { 'packages': ['corechart'] });

      // Set a callback to run when the Google Visualization API is loaded.
      google.charts.setOnLoadCallback(drawCharts);

      function drawCharts() {
        // Data for 7 pie charts
        var dataSets = [
          {
            title: 'How Do You Feel Normally',
            data: [
              ['Really Bad', 2],
              ['Bad', 2],
              ['Good', 18],
              ['Really Good', 0]
            ]
          },
          {
            title: 'How‚Äôs your sleep been?',
            data: [
              ['Frequent insomnia', 1],
              ['Trouble falling asleep', 3],
              ['Occasionally restless', 4],
              ['Restful & consistent', 14]
            ]
          },
          {
            title: 'How manageable is stress?',
            data: [
              ['Completely in control', 10],
              ['Managing ok', 6],
              ['Sometimes overwhelming', 6],
              ['Really overwhelming', 0]
            ]
          },
          {
            title: 'Social connections feel...',
            data: [
              ['ü§ó Supportive & fulfilling', 8],
              ['üë• Mostly okay', 11],
              ['üèùÔ∏è Somewhat isolating', 1],
              ['üÜò Lonely/difficult', 2]
            ]
          },
          {
            title: 'How many hours do you sleep?',
            data: [
              ['5 hours', 4],
              ['5-7 hours', 16],
              ['7-9 hours', 2],
              ['9 hours', 0]
            ]
          },
          {
            title: 'How many hours do you study or work?',
            data: [
              ['1 hour', 10],
              ['3 hours', 1],
              ['6 hours', 5],
              ['10 hours', 4]
            ]
          },
          {
            title: 'Do you exercise regularly?',
            data: [
              ['Yes', 4],
              ['No', 7],
              ['Sometimes', 8],
            ]
          }
        ];

        // Loop to create and draw each chart
        for (var i = 0; i < dataSets.length; i++) {
          var data = new google.visualization.DataTable();
          data.addColumn('string', 'Category');
          data.addColumn('number', 'Value');
          data.addRows(dataSets[i].data);

          var options = {
            title: dataSets[i].title,
            width: 400,
            height: 300,
            animation: {
              duration: 1500,  // Increase duration for smoother effect
              easing: 'inAndOut',  // Smooth easing transition
            },
            pieSliceText: 'percentage', // Display percentage on the slices
            chartArea: {
              left: 40,
              top: 20,
              width: '90%',
              height: '80%',
            },
            colors: ['#e74c3c', '#3498db', '#2ecc71', '#f39c12'], // Customize the colors
          };

          var chart = new google.visualization.PieChart(document.getElementById('chart_div' + (i + 1)));
          chart.draw(data, options);
        }
      }
    </script>

    <style>
      /* General page styling */
      body {
        font-family: 'Arial', sans-serif;
        background-color: #f4f4f9;
        margin: 0;
        padding: 0;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
        color: #333;
      }

      h1 {
        font-size: 2.5em;
        color: #333;
        margin-bottom: 30px;
        text-align: center;
      }

      /* Style for the container that holds the pie charts */
      .charts-container {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
        gap: 30px;
        max-width: 1200px;
        padding: 20px;
        box-sizing: border-box;
      }

      /* Each individual chart container */
      .chart-div {
        display: flex;
        justify-content: center;
        align-items: center;
        background-color: #fff;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        padding: 20px;
        min-width: 380px;
        max-width: 500px;
        height: 350px;
      }

      /* Style for the chart titles */
      .chart-div h2 {
        text-align: center;
        margin-bottom: 20px;
        font-size: 1.5em;
        color: #555;
      }

    </style>
  </head>

  <body>
    <h1>Health and Wellbeing Survey Results</h1>

    <div class="charts-container">
      <!-- Divs to hold the 7 pie charts, each with a title -->
      <div class="chart-div">
        <h2>How Do You Feel Normally</h2>
        <div id="chart_div1"></div>
      </div>
      <div class="chart-div">
        <h2>How‚Äôs your sleep been?</h2>
        <div id="chart_div2"></div>
      </div>
      <div class="chart-div">
        <h2>How manageable is stress?</h2>
        <div id="chart_div3"></div>
      </div>
      <div class="chart-div">
        <h2>Social connections feel...</h2>
        <div id="chart_div4"></div>
      </div>
      <div class="chart-div">
        <h2>How many hours do you sleep?</h2>
        <div id="chart_div5"></div>
      </div>
      <div class="chart-div">
        <h2>How many hours do you study or work?</h2>
        <div id="chart_div6"></div>
      </div>
      <div class="chart-div">
        <h2>Do you exercise regularly?</h2>
        <div id="chart_div7"></div>
      </div>
    </div>

  </body>
</html>
